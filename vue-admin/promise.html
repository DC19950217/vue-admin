<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script type="html">
        /* let promise = new Promise((resolve, reject) => {
            resolve("成功了")
        })

        promise.then(resolve => {
            console.log(resolve)
        }).catch(error => {
            console.log("失败")
        }) */
        // 链式
        function promise1(status) {
            return new Promise((resolve, reject) => {
                if (status) {
                    console.log('第一个promise成功')
                    resolve('第一个promise返回数据成功')
                } else if (!status) {
                    console.log('第一个promise失败')
                    reject('第一个promise返回数据失败')
                }

            })
        }

        function promise2(status) {
            return new Promise((resolve, reject) => {
                if (status) {
                    console.log('第二个promise成功')
                    resolve('第二个promise返回数据成功')
                } else if (!status) {
                    console.log('第二个promise失败')
                    reject('第二个promise返回数据失败')
                }

            })
        }
        /* promise1(true).then(response => {
            console.log(response)
            return promise2(false)
        }).then(response => {
            console.log(response)
        }).catch(error => {
            console.log(error)
        }) */
        // all
        // 数组内有promise必须全部成功（全部返回resolve），才会执行then回调，只要一个是返回（reject）不成功就会执行catch
        /*   Promise.all([promise1(true), promise2(true)]).then(response => {
              console.log("全部执行成功")
          }).catch(error => {
              console.log("有些可能失败")
          }) */
        // rece数组，当执行的时候，遇到的返回结果是resolve，一直执行链式
        // rece只要有一个返回resolve，就代表成功，就会回调then。但是，如果第一个是返回reject那么就失败
        /*   Promise.all([promise1(true), promise2(true)]).then(response => {
              console.log("全部执行成功")
          }).catch(error => {
              console.log("有些可能失败")
          }) */
        var i = 20;

        function fn() {
            i -= 2;
            var i = 10;
            console.log("不是return的i："+i);
            return function (n) {
                console.log((++i) - n);
              
            }
        }
        var f = fn();
        f(1);//19(没加了i=10) //11(加了i=10)
        f(2);//20(没加了i=10) //12(加了i=10)
        // console.log(i)
        fn()(3);//19(没加了i=10)
        fn()(4);//18(没加了i=10)
        f(5);//19
        f = null;
    </script>
    <script>
        let config = {
            alert:setInterval(()=>{
                console.log('aaa')
            },1000)
        }
        config = null;

        // const a = {};
        // const b = {key:123};
        // const c = {key:456};
        // a[b]=123;
        // a[c]=456;
        // console.log(a[b]);

        // let p = {name:'aa'};
        // const m = [p];
        // p = null;
        // console.log(m);

        // function s(name){
        //     return `hi there ${name}`;
        // }
        // console.log(s());

        // for (let i = 1; i < 5; i++) {
        //    if (i===3) {
        //        continue;
        //    }
        //    console.log(i);
            
        // }

    </script>
</body>

</html>